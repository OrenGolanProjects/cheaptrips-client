<%- include('includes/head.ejs') %>
</head>

<body>
    <%- include('includes/navigation.ejs') %>

    <!-- Main content container -->
    <main class="container trip-page-width">

        <!-- Flight Section -->
        <section class="section flight-section">
            <!-- Container for flight details -->
            <div class="container">
                <div class="section-header">
                    <h2>Flight Details</h2>
                </div>

                <!-- Tickets Section -->
                <div class="section-header text-center">
                    <h2>Tickets</h2>
                    <!-- Origin and Destination Information -->
                    <div>
                        <div class="container">
                            <div class="row">
                                <div class="col-md-6">
                                    <h3>Origin</h3>
                                    <p>Origin: <%= flightData.origin.city.cityName %>, <%= flightData.origin.country.countryName %></p>
                                </div>
                                <div class="col-md-6">
                                    <h3>Destination</h3>
                                    <p>Destination: <%= flightData.destination.city.cityName %>, <%= flightData.destination.country.countryName %></p>
                                </div>
                            </div>
                        </div>

                        <h3>Currency: <%= flightData.currency %></h3>
                    </div>
                </div>
            </div>

            <!-- Ticket Carousel -->
            <div id="ticketCarousel" class="carousel slide carousel-fade">
                <!-- Carousel Inner -->
                <div class="carousel-inner">
                    <!-- Loop through ticket keys and create carousel items -->
                    <% for (let i = 0; i < flightData.ticketKeys.length; i++) { %>
                        <div class="carousel-item <%= i === 0 ? 'active' : '' %>">
                            <!-- Loop through tickets within each key and display details -->
                            <% for (let j = i * 1; j < (i + 1) * 1 && j < flightData.ticketKeys.length; j++) { %>
                                <div class="ticket-details">
                                    <!-- Ticket details go here -->
                                </div>
                            <% } %>
                        </div>
                    <% } %>
                </div>

                <!-- Carousel Indicators -->
                <div class="carousel-indicators indicators-position">
                    <!-- Loop through ticket keys and create carousel indicators -->
                    <% for (let i = 0; i < (flightData.ticketKeys.length); i++) { %>
                        <button type="button" data-bs-target="#ticketCarousel" data-bs-slide-to="<%= i %>" aria-current="true" class="<%= i === 0 ? 'active' : '' %>"></button>
                    <% } %>
                </div>

                <!-- Carousel Controls -->
                <a href="#ticketCarousel" class="carousel-control-prev" role="button" data-slide="prev">
                    <span class="sr-only">Previous</span>
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                </a>
                <a href="#ticketCarousel" class="carousel-control-next" role="button" data-slide="next">
                    <span class="sr-only">Next</span>
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                </a>
            </div>
            <!-- Ticket Carousel -->
        </section>

        <!-- News Section -->
        <section class="section news-section">
            <!-- Container for news details -->
            <div class="container section-header">
                <h2 class="">News</h2>
                <!-- Display local news information -->
                <h2>Local News: <%= flightData.destination.country.countryName %></h2>
                <!-- Display city and news list count -->
                <div class="row">
                    <div class="col-sm">
                        <h4>City: <%= newsData.cityName %></h4>
                    </div>
                    <div class="col-sm">
                        <h4>News List Count: <%= newsData.newsListCount %></h4>
                    </div>
                </div>
            </div>

            <!-- News Carousel -->
            <div id="newsCarousel" class="carousel slide carousel-fade">
                <!-- Carousel Indicators -->
                <div class="carousel-indicators">
                    <!-- Loop through news list and create carousel indicators -->
                    <% for (let i = 0; i < newsData.newsList.length; i++) { %>
                        <button type="button" data-bs-target="#newsCarousel" data-bs-slide-to="<%= i %>" aria-current="true" class="<%= i === 0 ? 'active' : '' %>"></button>
                    <% } %>
                </div>

                <!-- Carousel Inner -->
                <div class="carousel-inner">
                    <!-- Loop through news list and create carousel items -->
                    <% for (let i = 0; i < newsData.newsList.length; i++) { %>
                        <div class="carousel-item <%= i === 0 ? 'active' : '' %>" data-interval="8000">
                            <!-- Display news details -->
                            <div class="container">
                                <div class="card-img-top">
                                    <!-- Display news image -->
                                </div>
                                <div class="card center-card">
                                    <!-- Display news details -->
                                </div>
                            </div>
                        </div>
                    <% } %>
                </div>

                <!-- Carousel Controls -->
                <a href="#newsCarousel" class="carousel-control-prev" role="button" data-slide="prev">
                    <span class="sr-only">Previous</span>
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                </a>
                <a href="#newsCarousel" class="carousel-control-next" role="button" data-slide="next">
                    <span class="sr-only">Next</span>
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                </a>
            </div>
            <!-- News Carousel -->
        </section>

        <!-- Travel Places Section -->
        <section class="section places-section">
            <!-- Container for travel places details -->
            <div class="container">
                <div class="section-header text-center">
                    <h2>Places</h2>
                    <!-- Display travel information in row and columns -->
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="travel-info">
                                <!-- Display travel information details -->
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="travel-info">
                                <!-- Display travel information details -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Categories Containers -->
                <div class="container">
                    <div class="row">
                        <!-- Loop through travel places categories and create category containers -->
                        <% travelPlacesData.kindsCategory.categories.forEach((category, index) => { %>
                            <div class="col-md-6">
                                <div class="category-container" id="category<%= index %> Container">
                                    <h1><%= categoryHeader %></h1>
                                    <img class="category-image" src="<%= categoryImageUrl %>" alt="<%= category.name %>">

                                    <!-- Places Carousel -->
                                    <div id="travelCarousel<%= index %>Carousel" class="carousel slide carousel-fade">
                                        <!-- Carousel Indicators -->
                                        <div class="carousel-indicators">
                                            <!-- Loop through places in each category and create carousel indicators -->
                                            <% for (let i = 0; i < category.places.length; i++) { %>
                                                <button type="button" data-bs-target="#travelCarousel" data-bs-slide-to="<%= i %>" aria-current="true" class="<%= i === 0 ? 'active' : '' %>"></button>
                                            <% } %>
                                        </div>

                                        <!-- Carousel Inner -->
                                        <div class="carousel-inner">
                                            <!-- Loop through places in each category and create carousel items -->
                                            <% category.places.forEach((place, placeIndex) => { %>
                                                <div class="carousel-item <%= placeIndex === 0 ? 'active' : '' %>" data-interval="8000">
                                                    <!-- Display place details -->
                                                    <div class="card card-size-outer">
                                                        <div class="card-body card-size-inner">
                                                            <div class="container">
                                                                <div class="row">
                                                                    <div class="">
                                                                        <!-- Display place information -->
                                                                    </div>
                                                                    <div class="carousel-container">
                                                                        <!-- Display buttons and links for each place -->
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            <% }) %>
                                        </div>

                                        <!-- Carousel Controls -->
                                        <a class="carousel-control-prev" href="#travelCarousel<%= index %>Carousel" role="button" data-slide="prev">
                                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                            <span class="sr-only">Previous</span>
                                        </a>
                                        <a class="carousel-control-next" href="#travelCarousel<%= index %>Carousel" role="button" data-slide="next">
                                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                            <span class="sr-only">Next</span>
                                        </a>
                                    </div>
                                    <!-- Places Carousel -->
                                </div>
                            </div>
                        <% }) %>
                    </div>
                </div>
                <!-- Categories Containers -->
            </div>
        </section>

    </main>

    <%- include('includes/end.ejs') %>
</body>
</html>
